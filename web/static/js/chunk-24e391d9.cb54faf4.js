(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24e391d9"],{"236b":function(e,t,n){"use strict";n("efee")},7156:function(e,t,n){var r=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},"90e7":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"m",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"l",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h}));var r=n("751a"),o=function(e){return Object(r["b"])("/v1/setting/menu/list",e)},i=function(e){return Object(r["c"])("/v1/setting/menu/edit",e,"PUT")},a=function(e){return Object(r["c"])("/v1/setting/menu/add",e)},u=function(e){return Object(r["c"])("/v1/setting/menu/del",e,"delete")},s=function(e){return Object(r["b"])("/v1/setting/users/list",e)},c=function(e){return Object(r["c"])("/v1/setting/users/add",e)},l=function(e){return Object(r["c"])("/v1/setting/users/edit",e,"put")},f=function(e){return Object(r["c"])("/v1/setting/users/del",e,"delete")},d=function(e){return Object(r["b"])("/v1/setting/role/list",e)},m=function(e){return Object(r["c"])("/v1/setting/role/add",e)},p=function(e){return Object(r["c"])("/v1/setting/role/edit",e,"put")},g=function(e){return Object(r["c"])("/v1/setting/role/del",e,"delete")},b=function(e){return Object(r["b"])("/v1/setting/file/list",e)},h=function(e){return Object(r["c"])("/v1/setting/file/del",e,"DELETE")}},a9e3:function(e,t,n){"use strict";var r=n("83ab"),o=n("da84"),i=n("94ca"),a=n("6eeb"),u=n("5135"),s=n("c6b6"),c=n("7156"),l=n("c04e"),f=n("d039"),d=n("7c73"),m=n("241c").f,p=n("06cf").f,g=n("9bf2").f,b=n("58a8").trim,h="Number",_=o[h],v=_.prototype,y=s(d(v))==h,O=function(e){var t,n,r,o,i,a,u,s,c=l(e,!1);if("string"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(i=c.slice(2),a=i.length,u=0;u<a;u++)if(s=i.charCodeAt(u),s<48||s>o)return NaN;return parseInt(i,r)}return+c};if(i(h,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var j,z=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof z&&(y?f((function(){v.valueOf.call(n)})):s(n)!=h)?c(new _(O(t)),n,z):O(t)},N=r?m(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;N.length>I;I++)u(_,j=N[I])&&!u(z,j)&&g(z,j,p(_,j));z.prototype=v,v.constructor=z,a(o,h,z)}},c584:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"hand-box"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editForm({},"")}}},[e._v("新增菜单")]),n("el-button",{on:{click:e.refresh}},[e._v("刷新")]),n("el-dialog",{attrs:{title:"新增",visible:e.isVisible},on:{"update:visible":function(t){e.isVisible=t},close:e.closeDialog}},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"90px"}},[e.form.menu_code&&e.form.parent_code?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.menu_code,expression:"form.menu_code"}],attrs:{type:"hidden"},domProps:{value:e.form.menu_code},on:{input:function(t){t.target.composing||e.$set(e.form,"menu_code",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.parent_code,expression:"form.parent_code"}],attrs:{type:"hidden"},domProps:{value:e.form.parent_code},on:{input:function(t){t.target.composing||e.$set(e.form,"parent_code",t.target.value)}}})]:e._e(),n("el-form-item",{attrs:{prop:"menu_name",label:"菜单名称:",rules:[{required:!0,message:"请填写内容",trigger:"blur"}]}},[n("el-input",{model:{value:e.form.menu_name,callback:function(t){e.$set(e.form,"menu_name",t)},expression:"form.menu_name"}})],1),n("el-form-item",{attrs:{prop:"url",label:"路径:",rules:[{required:!0,message:"请填写内容",trigger:"blur"}]}},[n("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),n("el-form-item",{attrs:{prop:"icon",label:"图标:",rules:[{required:!0,message:"请填写内容",trigger:"blur"}]}},[n("el-input",{model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1),n("el-form-item",{attrs:{prop:"sort",label:"排序:",rules:[{required:!0,message:"请填写内容",trigger:"blur"}]}},[n("el-input",{model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",e._n(t))},expression:"form.sort"}})],1),n("el-form-item",{attrs:{prop:"authority",label:"是否使用:",rules:[{required:!0,message:"请填写内容",trigger:"blur"}]}},[n("el-radio-group",{model:{value:e.form.authority,callback:function(t){e.$set(e.form,"authority",t)},expression:"form.authority"}},[n("el-radio",{attrs:{label:1}},[e._v("可见")]),n("el-radio",{attrs:{label:2}},[e._v("不可见")])],1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("提交")])],1)],2)],1)],1),n("el-table",{attrs:{data:e.sourceList,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[e._v("> "),n("el-table-column",{attrs:{prop:"id",label:"ID"}}),n("el-table-column",{attrs:{prop:"menu_name",label:"菜单名称"}}),n("el-table-column",{attrs:{prop:"icon",label:"图标"}}),n("el-table-column",{attrs:{prop:"sort",label:"排序"}}),n("el-table-column",{attrs:{prop:"url",label:"链接"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{slot:"reference",type:"primary",plain:"",size:"small"},on:{click:function(n){return e.editForm(t.row,"code_c_update")}},slot:"reference"},[e._v("修改")]),e._v(" "),n("el-popconfirm",{attrs:{title:"这是一段内容确定删除吗？"},on:{onConfirm:function(n){return e.itemDelete(t.row.id)}}},[n("el-button",{attrs:{slot:"reference",type:"danger",size:"small",plain:""},slot:"reference"},[e._v("删除")])],1),e._v(" "),0===t.row.parent_code?n("el-button",{attrs:{slot:"reference",size:"small"},on:{click:function(n){return e.editForm(t.row,"code_c_add")}},slot:"reference"},[e._v("新增子菜单")]):e._e()]}}])})],1),n("pagination",{attrs:{total:e.total_amount,page:e.page,limit:e.page_size},on:{"update:page":function(t){e.page=t},"update:limit":function(t){e.page_size=t},pagination:e.handlePageChange}})],1)},o=[],i=n("fc23"),a=n("90e7"),u={name:"Dashboard",components:{Pagination:i["a"]},data:function(){return{sourceList:[],isVisible:!1,form:{},page_size:14,page:1,total_amount:0,type:""}},created:function(){this.sourceLoad()},methods:{refresh:function(){this.$router.go(0)},handlePageChange:function(e){this.page=e.pageIndex,this.page_size=e.pageSize,this.sourceLoad()},itemDelete:function(e){var t=this;Object(a["d"])({id:e}).then((function(e){t.$message.success(e.message),t.sourceLoad()}),(function(e){t.$message.error(e.message)}))},closeDialog:function(){this.isVisible=!1,this.form={}},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var n=Object.assign({},t.form);"code_c_update"===t.type?Object(a["f"])(n).then((function(e){t.$message.success(e.message),t.sourceLoad(),t.closeDialog()}),(function(e){t.$message.error(e.message)})):Object(a["c"])(n).then((function(e){t.$message.success(e.message),t.sourceLoad(),t.closeDialog()}),(function(e){t.$message.error(e.message)}))}}))},editForm:function(e,t){if(this.isVisible=!0,this.type=t,"code_c_add"===t&&(this.form.menu_code=e.menu_code,this.form.parent_code=e.menu_code),"code_c_update"===t){var n=Object.assign({},e);delete n.children,this.form=Object.assign({},e)}},sourceLoad:function(){var e=this,t={page_size:this.page_size,page:this.page};Object(a["e"])(t).then((function(t){e.sourceList=t.data}),(function(t){e.$message.error(t.message)}))}}},s=u,c=n("2877"),l=Object(c["a"])(s,r,o,!1,null,null,null);t["default"]=l.exports},efee:function(e,t,n){},fc23:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-box"},[n("el-pagination",{attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.limit,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.limit=t},"update:page-size":function(t){e.limit=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},o=[],i=(n("a9e3"),{props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[this.limit,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{pageIndex:1,pageSize:e})},handleCurrentChange:function(e){this.$emit("pagination",{pageIndex:e,pageSize:this.pageSize})}}}),a=i,u=(n("236b"),n("2877")),s=Object(u["a"])(a,r,o,!1,null,null,null);t["a"]=s.exports}}]);