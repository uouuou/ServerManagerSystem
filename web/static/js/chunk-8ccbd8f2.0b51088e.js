(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8ccbd8f2"],{"236b":function(e,t,r){"use strict";r("efee")},7156:function(e,t,r){var o=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var a,i;return n&&"function"==typeof(a=t.constructor)&&a!==r&&o(i=a.prototype)&&i!==r.prototype&&n(e,i),e}},8121:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"i",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"g",(function(){return f})),r.d(t,"e",(function(){return p})),r.d(t,"n",(function(){return d})),r.d(t,"l",(function(){return m})),r.d(t,"k",(function(){return g})),r.d(t,"j",(function(){return b})),r.d(t,"m",(function(){return h})),r.d(t,"q",(function(){return _})),r.d(t,"o",(function(){return v})),r.d(t,"p",(function(){return y}));var o=r("751a"),n=function(e){return Object(o["b"])("/v1/action/register/cl_list",e)},a=function(e){return Object(o["c"])("/v1/action/register/cl_set",e)},i=function(e){return Object(o["c"])("/v1/action/register/cl_del",e,"DELETE")},s=function(e){return Object(o["b"])("/v1/action/register/cp_list",e)},l=function(e){return Object(o["c"])("/v1/action/register/cp_add?userid="+e.userid,e)},u=function(e){return Object(o["c"])("/v1/action/register/cp_edit?userid="+e.userid,e,"PUT")},c=function(e){return Object(o["c"])("/v1/action/register/cp_run?userid="+e.userid,e)},f=function(e){return Object(o["c"])("/v1/action/register/cp_off?userid="+e.userid,e)},p=function(e){return Object(o["c"])("/v1/action/register/cp_del?userid="+e.userid,e,"DELETE")},d=function(e){return Object(o["b"])("/v1/action/sql/sqlList",e)},m=function(e){var t=e.id?"edit":"addSql";return Object(o["c"])("/v1/action/sql/"+t,e,e.id?"PUT":"")},g=function(e){return Object(o["c"])("/v1/action/sql/delSql",e,"DELETE")},b=function(e){return Object(o["c"])("/v1/action/sql/sql_any",e)},h=function(e){return Object(o["b"])("/v1/action/sql/cid",e)},_=function(e){return Object(o["b"])("/v1/action/update/get_update_version",e)},v=function(e){return Object(o["c"])("/v1/action/update/set_update_version",e)},y=function(e){return Object(o["c"])("/v1/action/update/del_update_version",e,"DELETE")}},a9e3:function(e,t,r){"use strict";var o=r("83ab"),n=r("da84"),a=r("94ca"),i=r("6eeb"),s=r("5135"),l=r("c6b6"),u=r("7156"),c=r("c04e"),f=r("d039"),p=r("7c73"),d=r("241c").f,m=r("06cf").f,g=r("9bf2").f,b=r("58a8").trim,h="Number",_=n[h],v=_.prototype,y=l(p(v))==h,w=function(e){var t,r,o,n,a,i,s,l,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=b(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:o=2,n=49;break;case 79:case 111:o=8,n=55;break;default:return+u}for(a=u.slice(2),i=a.length,s=0;s<i;s++)if(l=a.charCodeAt(s),l<48||l>n)return NaN;return parseInt(a,o)}return+u};if(a(h,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var k,O=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof O&&(y?f((function(){v.valueOf.call(r)})):l(r)!=h)?u(new _(w(t)),r,O):w(t)},$=o?d(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;$.length>L;L++)s(_,k=$[L])&&!s(O,k)&&g(O,k,m(_,k));O.prototype=v,v.constructor=O,i(n,h,O)}},e7e7:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"copy"},[r("a",{on:{click:e.copy}},[e._v(e._s(e.content.copyData))])])},n=[],a={name:"copy",props:["content"],methods:{copy:function(){var e=document.createElement("input");e.value=this.content.copyData,e.id="creatDom",document.body.appendChild(e),e.select(),document.execCommand("Copy");var t=document.getElementById("creatDom");t.parentNode.removeChild(t),this.$message.info("复制成功")}}},i=a,s=r("2877"),l=Object(s["a"])(i,o,n,!1,null,null,null);t["a"]=l.exports},ecfb:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{attrs:{data:e.sourceList}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"65"}}),r("el-table-column",{attrs:{prop:"userid",label:"用户ID","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[r("Copy",{attrs:{content:{copyData:e.row.userid}}})]}}])}),r("el-table-column",{attrs:{prop:"client_ip",label:"用户外网IP"}}),r("el-table-column",{attrs:{prop:"version",label:"版本","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"nps_config",label:"NPS配置","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"nps_version",label:"NPS版本号"}}),r("el-table-column",{attrs:{prop:"frp_config",label:"FRP配置","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"frp_version",label:"FRP版本号"}}),r("el-table-column",{attrs:{prop:"cron_auth",label:"定时任务"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.status[t.row.cron_auth])+" ")]}}])}),r("el-table-column",{attrs:{prop:"nat_auth",label:"NAT状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.status[t.row.nat_auth])+" ")]}}])}),r("el-table-column",{attrs:{prop:"status",label:"在线情况","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status?r("el-tag",[e._v("在线")]):r("el-tag",{attrs:{type:"danger"}},[e._v("离线")])]}}])}),r("el-table-column",{attrs:{prop:"remark",label:"客户端备注"}}),r("el-table-column",{attrs:{label:"操作",width:"210"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(r){return e.setRegister(t.row)}}},[e._v("设置")]),e._v(" "),r("span",[t.row.status?r("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(r){return e.LookRegister(t.row)}}},[e._v("守护")]):r("el-button",{attrs:{type:"success",disabled:"",plain:"",size:"mini"},on:{click:function(r){return e.LookRegister(t.row)}}},[e._v("守护")])],1),e._v(" "),r("el-popconfirm",{attrs:{title:"此操作将会删除该项，确定继续吗？"},on:{onConfirm:function(r){return e.itemDelete(t.row.id)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",plain:"",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),r("pagination",{attrs:{total:e.total_amount,page:e.page,limit:e.page_size},on:{"update:page":function(t){e.page=t},"update:limit":function(t){e.page_size=t},pagination:e.handlePageChange}}),e.addFunDialog.visible&&"SET"===e.addFunDialog.type?r("RegisterSetForm",{on:{sourceLoad:e.sourceLoad}}):e._e(),e.addFunDialog.visible&&"CPLIST"===e.addFunDialog.type?r("RegisterCpList",{on:{sourceLoad:e.sourceLoad}}):e._e()],1)},n=[],a=r("5530"),i=r("2f62"),s=r("8121"),l=r("fc23"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.addFunDialog.title,visible:e.addFunDialog.visible,width:"40%"},on:{"update:visible":function(t){return e.$set(e.addFunDialog,"visible",t)},close:e.closeDialog}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",autocomplete:"off"}},[r("el-form-item",{attrs:{label:"是否允许",prop:"nat_auth",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"change"}]}},[r("el-radio-group",{model:{value:e.form.nat_auth,callback:function(t){e.$set(e.form,"nat_auth",t)},expression:"form.nat_auth"}},[r("el-radio",{attrs:{label:1}},[e._v("允许")]),r("el-radio",{attrs:{label:2}},[e._v("不允许")])],1)],1),r("el-form-item",{attrs:{label:"定时任务",prop:"cron_auth",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"change"}]}},[r("el-radio-group",{model:{value:e.form.cron_auth,callback:function(t){e.$set(e.form,"cron_auth",t)},expression:"form.cron_auth"}},[r("el-radio",{attrs:{label:1}},[e._v("允许")]),r("el-radio",{attrs:{label:2}},[e._v("不允许")])],1)],1),r("el-form-item",{attrs:{label:"NPS配置",prop:"nps_config",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{attrs:{type:"textarea",rows:"6",placeholder:"请输入配置值"},model:{value:e.form.nps_config,callback:function(t){e.$set(e.form,"nps_config",t)},expression:"form.nps_config"}})],1),r("el-form-item",{attrs:{label:"FRP配置",prop:"frp_config",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{attrs:{type:"textarea",rows:"6",placeholder:"请输入配置值"},model:{value:e.form.frp_config,callback:function(t){e.$set(e.form,"frp_config",t)},expression:"form.frp_config"}})],1),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){return e.submit("form")}}},[e._v("确 定")])],1)],1)},c=[],f={name:"dialog-form",data:function(){return{submitLoading:!1,options:[],form:{}}},computed:Object(a["a"])({},Object(i["b"])(["addFunDialog"])),created:function(){var e=this.addFunDialog.row;this.form=Object.assign({},e)},methods:{closeDialog:function(){var e={row:"",type:"",title:"",visible:!0};this.$store.commit("SET_DIALOG",e)},submit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var r=Object.assign({},t.form);Object(s["c"])(r).then((function(e){t.$message.success(e.message),t.$emit("sourceLoad"),t.closeDialog()}),(function(e){t.$message.error(e.message)}))}}))}}},p=f,d=r("2877"),m=Object(d["a"])(p,u,c,!1,null,null,null),g=m.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.addFunDialog.title,visible:e.addFunDialog.visible,"close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.addFunDialog,"visible",t)},close:e.closeDialog}},[r("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary"},on:{click:function(t){e.visible=!0}}},[e._v("新增进程")]),r("el-table",{attrs:{data:e.sourceList}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"55"}}),r("el-table-column",{attrs:{prop:"name",label:"程序名称","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"run_path",label:"运行路径","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"run_cmd",label:"运行命令","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"num",label:"可启动次数"}}),r("el-table-column",{attrs:{prop:"auto_run",label:"启动状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.auto_run?"启动":"不启动")+" ")]}}])}),r("el-table-column",{attrs:{prop:"pid",label:"PID","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(r){return e.editRegister(t.row)}}},[e._v("修改")]),e._v(" "),1===t.row.running?r("el-popconfirm",{attrs:{title:"此操作将会关闭该项，确定继续吗？"},on:{onConfirm:function(r){return e.runRegister(t.row)}}},[r("el-button",{attrs:{slot:"reference",type:"warning",plain:"",size:"mini"},slot:"reference"},[e._v("关闭")])],1):r("el-popconfirm",{attrs:{title:"此操作将会启动该项，确定继续吗？"},on:{onConfirm:function(r){return e.runRegister(t.row)}}},[r("el-button",{attrs:{slot:"reference",type:"success",plain:"",size:"mini"},slot:"reference"},[e._v("启动")])],1),e._v(" "),r("el-popconfirm",{attrs:{title:"此操作将会删除该项，确定继续吗？"},on:{onConfirm:function(r){return e.deleteRegister(t.row)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",plain:"",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),r("el-dialog",{attrs:{title:"操作进程",visible:e.visible,"append-to-body":"",width:"40%"},on:{"update:visible":function(t){e.visible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",autocomplete:"off"}},[r("el-form-item",{attrs:{label:"程序名称",prop:"name",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"运行路径",prop:"run_path",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{model:{value:e.form.run_path,callback:function(t){e.$set(e.form,"run_path",t)},expression:"form.run_path"}})],1),r("el-form-item",{attrs:{label:"运行命令",prop:"run_cmd",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{model:{value:e.form.run_cmd,callback:function(t){e.$set(e.form,"run_cmd",t)},expression:"form.run_cmd"}})],1),r("el-form-item",{attrs:{label:"可启动次数",prop:"num",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",e._n(t))},expression:"form.num"}})],1),r("el-form-item",{attrs:{label:"启动状态",prop:"auto_run",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"change"}]}},[r("el-radio-group",{model:{value:e.form.auto_run,callback:function(t){e.$set(e.form,"auto_run",t)},expression:"form.auto_run"}},[r("el-radio",{attrs:{label:1}},[e._v("启动")]),r("el-radio",{attrs:{label:2}},[e._v("不自动启动")])],1)],1),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("form")}}},[e._v("确 定")])],1)],1)],1)},h=[],_=(r("b0c0"),{name:"registerCpList",computed:Object(a["a"])({},Object(i["b"])(["addFunDialog"])),data:function(){return{sourceList:[],visible:!1,form:{userid:""},userid:""}},created:function(){this.sourceLoad()},methods:{closeDialog:function(){var e={row:"",type:"",title:"",visible:!0};this.userid="",this.form={},this.$store.commit("SET_DIALOG",e)},sourceLoad:function(){var e=this,t=this.userid=this.addFunDialog.row.userid;this.form.userid=t,Object(s["f"])({userid:t}).then((function(t){var r=t.data;e.sourceList=r}),(function(t){e.$message.error(t.message)}))},editRegister:function(e){this.visible=!0,this.form={id:e.id,userid:this.userid,name:e.name,run_path:e.run_path,run_cmd:e.run_cmd,num:e.num,auto_run:e.auto_run,remark:e.remark}},close:function(){this.visible=!1,this.form={},this.form["userid"]=this.userid},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var r=e.form;r.id?Object(s["i"])(r).then((function(t){e.$message.success(t.message),e.close(),e.sourceLoad()}),(function(t){e.$message.error(t.message)})):Object(s["d"])(r).then((function(t){e.$message.success(t.message),e.close(),e.sourceLoad()}),(function(t){e.$message.error(t.message)}))}}))},runRegister:function(e){var t=this,r={id:e.id,userid:this.userid};1===e.running?Object(s["g"])(r).then((function(e){t.$message.success(e.message),t.sourceLoad()}),(function(e){t.$message.error(e.message)})):Object(s["h"])(r).then((function(e){t.$message.success(e.message),t.sourceLoad()}),(function(e){t.$message.error(e.message)}))},deleteRegister:function(e){var t=this,r={id:e.id,userid:this.userid};Object(s["e"])(r).then((function(e){t.$message.success(e.message),t.sourceLoad()}),(function(e){t.$message.error(e.message)}))}}}),v=_,y=Object(d["a"])(v,b,h,!1,null,null,null),w=y.exports,k=r("e7e7"),O={name:"register",components:{Pagination:l["a"],RegisterSetForm:g,RegisterCpList:w,Copy:k["a"]},computed:Object(a["a"])({},Object(i["b"])(["addFunDialog"])),data:function(){return{sourceList:[],page_size:14,page:1,total_amount:0,status:{1:"允许",2:"不允许"}}},created:function(){this.sourceLoad()},methods:{handlePageChange:function(e){this.page=e.pageIndex,this.page_size=e.pageSize,this.sourceLoad()},sourceLoad:function(){var e=this,t={page_size:this.page_size,page:this.page};Object(s["b"])(t).then((function(t){e.sourceList=t.data,e.total_amount=t.pages.total_amount}),(function(t){e.$message.error(t.message)}))},showDislog:function(e){this.$store.commit("SET_DIALOG",e)},setRegister:function(e){var t={row:{id:e.id,userid:e.userid,client_ip:e.client_ip,nat_auth:e.nat_auth,cron_auth:e.cron_auth,frp_config:e.frp_config,nps_config:e.nps_config,remark:e.remark},type:"SET",title:"设置客户端"};this.showDislog(t)},itemDelete:function(e){var t=this;Object(s["a"])({id:e}).then((function(e){t.$message.success(e.message),t.sourceLoad()}),(function(e){t.$message.error(e.message)}))},LookRegister:function(e){var t={row:e,type:"CPLIST",title:"进程守护设置"};this.showDislog(t)}}},$=O,L=Object(d["a"])($,o,n,!1,null,null,null);t["default"]=L.exports},efee:function(e,t,r){},fc23:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-box"},[r("el-pagination",{attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.limit,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.limit=t},"update:page-size":function(t){e.limit=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],a=(r("a9e3"),{props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[this.limit,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{pageIndex:1,pageSize:e})},handleCurrentChange:function(e){this.$emit("pagination",{pageIndex:e,pageSize:this.pageSize})}}}),i=a,s=(r("236b"),r("2877")),l=Object(s["a"])(i,o,n,!1,null,null,null);t["a"]=l.exports}}]);