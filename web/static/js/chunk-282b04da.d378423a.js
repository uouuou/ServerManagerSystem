(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-282b04da"],{"236b":function(e,t,r){"use strict";r("efee")},7156:function(e,t,r){var a=r("861d"),o=r("d2bb");e.exports=function(e,t,r){var n,i;return o&&"function"==typeof(n=t.constructor)&&n!==r&&a(i=n.prototype)&&i!==r.prototype&&o(e,i),e}},8121:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"i",(function(){return c})),r.d(t,"h",(function(){return u})),r.d(t,"g",(function(){return d})),r.d(t,"e",(function(){return f})),r.d(t,"n",(function(){return p})),r.d(t,"l",(function(){return m})),r.d(t,"k",(function(){return b})),r.d(t,"j",(function(){return g})),r.d(t,"m",(function(){return v})),r.d(t,"q",(function(){return h})),r.d(t,"o",(function(){return _})),r.d(t,"p",(function(){return y}));var a=r("751a"),o=function(e){return Object(a["b"])("/v1/action/register/cl_list",e)},n=function(e){return Object(a["c"])("/v1/action/register/cl_set",e)},i=function(e){return Object(a["c"])("/v1/action/register/cl_del",e,"DELETE")},s=function(e){return Object(a["b"])("/v1/action/register/cp_list",e)},l=function(e){return Object(a["c"])("/v1/action/register/cp_add?userid="+e.userid,e)},c=function(e){return Object(a["c"])("/v1/action/register/cp_edit?userid="+e.userid,e,"PUT")},u=function(e){return Object(a["c"])("/v1/action/register/cp_run?userid="+e.userid,e)},d=function(e){return Object(a["c"])("/v1/action/register/cp_off?userid="+e.userid,e)},f=function(e){return Object(a["c"])("/v1/action/register/cp_del?userid="+e.userid,e,"DELETE")},p=function(e){return Object(a["b"])("/v1/action/sql/sqlList",e)},m=function(e){var t=e.id?"edit":"addSql";return Object(a["c"])("/v1/action/sql/"+t,e,e.id?"PUT":"")},b=function(e){return Object(a["c"])("/v1/action/sql/delSql",e,"DELETE")},g=function(e){return Object(a["c"])("/v1/action/sql/sql_any",e)},v=function(e){return Object(a["b"])("/v1/action/sql/cid",e)},h=function(e){return Object(a["b"])("/v1/action/update/get_update_version",e)},_=function(e){return Object(a["c"])("/v1/action/update/set_update_version",e)},y=function(e){return Object(a["c"])("/v1/action/update/del_update_version",e,"DELETE")}},a82b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"hand-box"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editForm({},"ADD")}}},[e._v("新增SQL")]),e.addFunDialog.visible&&"TEST"!==e.addFunDialog.type?r("SQLForm",{on:{sourceLoad:e.sourceLoad}}):e._e(),e.addFunDialog.visible&&"TEST"===e.addFunDialog.type?r("TestForm",{on:{sourceLoad:e.sourceLoad}}):e._e()],1),r("el-table",{attrs:{data:e.sourceList}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),r("el-table-column",{attrs:{prop:"name",label:"资产名称"}}),r("el-table-column",{attrs:{prop:"dbType",label:"数据库类型"}}),r("el-table-column",{attrs:{prop:"dbName",label:"数据库名称"}}),r("el-table-column",{attrs:{prop:"dbUser",label:"数据库用户"}}),r("el-table-column",{attrs:{prop:"dbHost",label:"数据库地址"}}),r("el-table-column",{attrs:{prop:"dbPort",label:"数据库端口"}}),r("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(r){return e.editForm(t.row,"EDIT")}}},[e._v("修改")]),e._v(" "),r("span",[r("el-button",{attrs:{plain:"",size:"small"},on:{click:function(r){return e.editForm(t.row,"TEST")}}},[e._v("测试")])],1),e._v(" "),r("el-popconfirm",{attrs:{title:"这是一段内容确定删除吗？"},on:{onConfirm:function(r){return e.itemDelete(t.row.id)}}},[r("el-button",{attrs:{slot:"reference",plain:"",type:"danger",size:"small"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),r("pagination",{attrs:{total:e.total_amount,page:e.page,limit:e.page_size},on:{"update:page":function(t){e.page=t},"update:limit":function(t){e.page_size=t},pagination:e.handlePageChange}})],1)},o=[],n=r("5530"),i=r("2f62"),s=r("fc23"),l=r("8121"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.addFunDialog.title,visible:e.addFunDialog.visible,width:"40%",top:"5vh"},on:{"update:visible":function(t){return e.$set(e.addFunDialog,"visible",t)},close:e.closeDialog}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",autocomplete:"off"}},[r("el-form-item",{attrs:{label:"资产名称",prop:"name",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"数据类型",prop:"dbType",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"change"}]}},[r("el-select",{attrs:{placeholder:"请选择内容"},model:{value:e.form.dbType,callback:function(t){e.$set(e.form,"dbType",t)},expression:"form.dbType"}},[r("el-option",{attrs:{value:"mysql",label:"mysql"}}),r("el-option",{attrs:{value:"mssql",label:"mssql"}})],1)],1),r("el-form-item",{attrs:{label:"数据库名称",prop:"dbName",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.dbName,callback:function(t){e.$set(e.form,"dbName",t)},expression:"form.dbName"}})],1),r("el-form-item",{attrs:{label:"数据库用户",prop:"dbUser",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.dbUser,callback:function(t){e.$set(e.form,"dbUser",t)},expression:"form.dbUser"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"dbPass",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{attrs:{type:"password","auto-complete":"new-password",placeholder:"请输入内容"},model:{value:e.form.dbPass,callback:function(t){e.$set(e.form,"dbPass",t)},expression:"form.dbPass"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkdbPass",rules:[{required:!0,validator:e.validatePWD,trigger:"blur"}]}},[r("el-input",{attrs:{type:"password","auto-complete":"new-password",placeholder:"请输入内容"},model:{value:e.form.checkdbPass,callback:function(t){e.$set(e.form,"checkdbPass",t)},expression:"form.checkdbPass"}})],1),r("el-form-item",{attrs:{label:"数据库地址",prop:"dbHost",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.dbHost,callback:function(t){e.$set(e.form,"dbHost",t)},expression:"form.dbHost"}})],1),r("el-form-item",{attrs:{label:"数据库端口",prop:"dbPort",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.dbPort,callback:function(t){e.$set(e.form,"dbPort",e._n(t))},expression:"form.dbPort"}})],1),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),r("div",{staticClass:"sql-text"},[e._v(" "+e._s(e.sqlData)+" ")]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){return e.submit("form")}}},[e._v("确 定")])],1)],1)},u=[],d={name:"dialog-form",data:function(){return{submitLoading:!1,form:{},sqlData:""}},computed:Object(n["a"])({},Object(i["b"])(["addFunDialog"])),created:function(){var e=this.addFunDialog.row;this.form=Object.assign({},e)},methods:{closeDialog:function(){var e={row:"",type:"",title:"",visible:!0};this.$store.commit("SET_DIALOG",e)},validatePWD:function(e,t,r){console.log(111),""===t?r(new Error("请再次输入密码")):t!==this.form.dbPass?r(new Error("两次输入密码不一致!")):r()},submit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.submitLoading=!0;var r=Object.assign({},t.form);Object(l["l"])(r).then((function(e){t.$message.success(e.message),t.$emit("sourceLoad"),t.closeDialog(),t.submitLoading=!1}),(function(e){t.$message.error(e.message),t.submitLoading=!1}))}}))}}},f=d,p=r("2877"),m=Object(p["a"])(f,c,u,!1,null,null,null),b=m.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.addFunDialog.title,visible:e.addFunDialog.visible,width:"40%",top:"5vh"},on:{"update:visible":function(t){return e.$set(e.addFunDialog,"visible",t)},close:e.closeDialog}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",autocomplete:"off"}},[r("el-form-item",{attrs:{label:"客户端ID",prop:"cid",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"change"}]}},[r("el-select",{attrs:{placeholder:"请选择内容"},model:{value:e.form.cid,callback:function(t){e.$set(e.form,"cid",t)},expression:"form.cid"}},e._l(e.option,(function(e){return r("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1),r("el-form-item",{attrs:{label:"SQL语句",prop:"sql_raw",rules:[{required:!0,message:"该项不能为空，请填写完整信息",trigger:"blur"}]}},[r("el-input",{attrs:{type:"textarea",rows:"7",placeholder:"请输入SQL语句"},model:{value:e.form.sql_raw,callback:function(t){e.$set(e.form,"sql_raw",t)},expression:"form.sql_raw"}})],1)],1),r("div",{staticClass:"sql-box"},[r("p",[r("Copy",{attrs:{content:{copyData:e.sqlData}}})],1)]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){return e.submit("form")}}},[e._v("确 定")])],1)],1)},v=[],h=r("e7e7"),_={name:"dialog-form",components:{Copy:h["a"]},data:function(){return{submitLoading:!1,form:{},option:[],sqlData:""}},computed:Object(n["a"])({},Object(i["b"])(["addFunDialog"])),created:function(){var e=this,t=this.addFunDialog.row;Object(l["m"])().then((function(t){e.option=t.data.cid}),(function(e){})),this.form={sql_id:t.id}},methods:{closeDialog:function(){var e={row:"",type:"",title:"",visible:!0};this.$store.commit("SET_DIALOG",e)},submit:function(e){var t=this;this.$refs[e].validate((function(e){if(e){t.submitLoading=!0;var r=Object.assign({},t.form);Object(l["j"])(r).then((function(e){t.submitLoading=!1,t.$message.success(e.message),t.sqlData=JSON.stringify(e.data)}),(function(e){t.submitLoading=!1,t.$message.error(e.message)}))}}))}}},y=_,D=(r("e768"),Object(p["a"])(y,g,v,!1,null,null,null)),O=D.exports,E={name:"SQL",components:{Pagination:s["a"],SQLForm:b,TestForm:O},computed:Object(n["a"])({},Object(i["b"])(["addFunDialog"])),data:function(){return{sourceList:[],page_size:14,page:1,total_amount:0}},created:function(){this.sourceLoad()},methods:{handlePageChange:function(e){this.page=e.pageIndex,this.page_size=e.pageSize,this.sourceLoad()},sourceLoad:function(){var e=this,t={page_size:this.page_size,page:this.page};Object(l["n"])(t).then((function(t){e.sourceList=t.data,e.total_amount=t.pages.total_amount}),(function(t){e.$message.error(t.message)}))},itemDelete:function(e){var t=this;Object(l["k"])({id:e}).then((function(e){t.$message.success(e.message),t.sourceLoad()}),(function(e){t.$message.error(e.message)}))},editForm:function(e,t){var r={row:e,type:t,title:"EDIT"===t?"修改SQL":"TEST"===t?"测试SQL":"新增SQL"};this.$store.commit("SET_DIALOG",r)}}},L=E,k=Object(p["a"])(L,a,o,!1,null,null,null);t["default"]=k.exports},a9e3:function(e,t,r){"use strict";var a=r("83ab"),o=r("da84"),n=r("94ca"),i=r("6eeb"),s=r("5135"),l=r("c6b6"),c=r("7156"),u=r("c04e"),d=r("d039"),f=r("7c73"),p=r("241c").f,m=r("06cf").f,b=r("9bf2").f,g=r("58a8").trim,v="Number",h=o[v],_=h.prototype,y=l(f(_))==v,D=function(e){var t,r,a,o,n,i,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+c}for(n=c.slice(2),i=n.length,s=0;s<i;s++)if(l=n.charCodeAt(s),l<48||l>o)return NaN;return parseInt(n,a)}return+c};if(n(v,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var O,E=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof E&&(y?d((function(){_.valueOf.call(r)})):l(r)!=v)?c(new h(D(t)),r,E):D(t)},L=a?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;L.length>k;k++)s(h,O=L[k])&&!s(E,O)&&b(E,O,m(h,O));E.prototype=_,_.constructor=E,i(o,v,E)}},df26:function(e,t,r){},e768:function(e,t,r){"use strict";r("df26")},e7e7:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"copy"},[r("a",{on:{click:e.copy}},[e._v(e._s(e.content.copyData))])])},o=[],n={name:"copy",props:["content"],methods:{copy:function(){var e=document.createElement("input");e.value=this.content.copyData,e.id="creatDom",document.body.appendChild(e),e.select(),document.execCommand("Copy");var t=document.getElementById("creatDom");t.parentNode.removeChild(t),this.$message.info("复制成功")}}},i=n,s=r("2877"),l=Object(s["a"])(i,a,o,!1,null,null,null);t["a"]=l.exports},efee:function(e,t,r){},fc23:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-box"},[r("el-pagination",{attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.limit,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.limit=t},"update:page-size":function(t){e.limit=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},o=[],n=(r("a9e3"),{props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[this.limit,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{pageIndex:1,pageSize:e})},handleCurrentChange:function(e){this.$emit("pagination",{pageIndex:e,pageSize:this.pageSize})}}}),i=n,s=(r("236b"),r("2877")),l=Object(s["a"])(i,a,o,!1,null,null,null);t["a"]=l.exports}}]);